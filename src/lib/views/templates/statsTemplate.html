<div class="row buttonStatBar">
  {{#if stats}}
    <span id="loadJSON" class="btn btn-success btn-file">Laden (JSON) <input type="file"></span>
    <button id="downloadJSON" type="button" class="btn btn-primary">Speichern (JSON)</button>
    <button id="downloadCSV" type="button" class="btn btn-primary">Exportieren (CSV)</button>
    <button id="clearStorage" type="button" class="btn btn-danger pull-right">&times; Alle löschen</button>
  {{else}}
    <span id="loadJSON" class="btn btn-success btn-file">Laden (JSON) <input type="file"></span>
  {{/if}}
</div>

{{#if stats}}
  <div class="table-responsive">
    <table class="table table-condensed statsTable">
      <thead>
        <tr>
          <th>Benutzer</th>
          <th>Spielstart</th>
          <th>Spielende</th>
          <th>Spielzeit</th>
          <th>Rundenzeit</th>
          <th>Gefangen</th>
          <th>Aktion</th>
        </tr>
      </thead>
      <tbody>
        {{#each stats}}
          <tr>
            <td>{{userName}}</td>
            <td>{{startDate}}</td>
            <td>{{endDate}}</td>
            <td>{{gameTime}}</td>
            <td>{{playTime}}</td>
            <td>{{objectsCatched}}</td>
            {{#if id}}
              <td>
                <small><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapse-{{{id}}}">Erweitert</a></small>
                <button id="remove-{{id}}" data-id="{{id}}" type="button" class="btn btn-danger btn-xs removeItem pull-right">&times;</button></td>
            {{else}}
              <td><small>Läuft noch</small></td>
            {{/if}}
          </tr>
          <tr id="collapse-{{{id}}}" class="panel-collapse collapse">
            <td colspan="7">
              <button id="apply-{{id}}" data-id="{{id}}" type="button" data-loading-text="Lade..." class="btn btn-warning btn-xs applySettings pull-right">Einstellungen dieses Spiels wiederherstellen</button>
                <div><strong>Einstellungen </strong><small>({{id}})</small></div>
              <div class="statHistoryConfig">
                
                {{#each gameConfig.keyValues}}
                  <div class="col-xs-6"><p><small>{{objectDesc}}: </small><strong>{{objectFormattedValue}}</strong></p></div>
                {{/each}}
              </div>
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
{{else}}
  <div class="stats-no-games"><p>:(</p><p>Keine früheren Spiele gefunden.</p></div>
{{/if}}