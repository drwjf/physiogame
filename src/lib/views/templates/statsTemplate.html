<div class="row buttonStatBar">
  {{#if stats}}
    <span id="loadJSON" class="btn btn-success btn-file btn-sm">Laden (JSON) <input type="file"></span>
    <button id="downloadJSON" type="button" class="btn btn-primary btn-sm">Speichern (JSON)</button>
    <button id="downloadCSV" type="button" class="btn btn-primary btn-sm">Exportieren (CSV)</button>
    <button id="clearStorage" type="button" class="btn btn-danger btn-sm pull-right">&times; Alle löschen</button>
  {{else}}
    <span id="loadJSON" class="btn btn-success btn-file btn-sm">Laden (JSON) <input type="file"></span>
  {{/if}}
</div>

{{#if stats}}
  <div class="table-responsive">
    <table class="table table-condensed statsTable">
      <thead>
        <tr>
          <th>Benutzer</th>
          <th>Datum</th>
          <th>Spielstart</th>
          <th>Spielende</th>
          <th>Spielzeit</th>
          <th>Rundenzeit</th>
          <th>Gefangen</th>
          <th>Aktion</th>
        </tr>
      </thead>
      <tbody>
        {{#each stats}}
          <tr>
            <td>{{userName}}</td>
            <td>{{date}}</td>
            <td>{{startDate}}</td>
            <td>{{endDate}}</td>
            <td>{{gameTime}}</td>
            <td>{{playTime}}</td>
            <td>{{objectsCatched}}</td>
            {{#if id}}
              <td>
                <a class="accordion-toggle btn btn-primary btn-xs" data-toggle="collapse" data-parent="#accordion" href="#collapse-{{{id}}}">Details</a>
                <button id="remove-{{id}}" data-id="{{id}}" type="button" class="btn btn-danger btn-xs removeItem pull-right">&times;</button></td>
            {{else}}
              <td><small>Läuft noch</small></td>
            {{/if}}
          </tr>
          <tr id="collapse-{{{id}}}" class="panel-collapse collapse">
            <td colspan="8">
              <div><p><strong>Details:</strong> ({{id}})</p></div>
              
              <div class="row">
                <div class="col-xs-6"><strong>Leap Motion</strong></div>
              </div>

              <div id="leap-{{{id}}}" class="statDetails">
                {{#each leapStats.keyValues}}
                  <div class="col-xs-6"><p><small>{{key}}: </small><strong>{{value}}</strong></p></div>
                {{/each}}
              </div>

              <div class="row">
                <div class="col-xs-6"><strong>Einstellungen</strong></div>
                <div class="col-xs-6">
                  <button id="apply-{{id}}" data-id="{{id}}" type="button" data-loading-text="Lade..." class="btn btn-warning btn-xs applySettings pull-right">Einstellungen dieses Spiels wiederherstellen</button>
                </div>
              </div>

              <div id="config-{{{id}}}" class="statDetails">
                {{#each gameConfig.keyValues}}
                  <div class="col-xs-6"><p><small>{{objectDesc}}: </small><strong>{{objectFormattedValue}}</strong></p></div>
                {{/each}}
              </div>

            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
{{else}}
  <div class="stats-no-games"><p>:(</p><p>Keine früheren Spiele gefunden.</p></div>
{{/if}}